{"version":3,"file":"static/js/765.96b8468f.chunk.js","mappings":"uPAiGA,UAtFqB,WACnB,OAAgCA,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,IAAzC,eAAOK,EAAP,KAAiBC,EAAjB,KACA,GAAkCN,EAAAA,EAAAA,UAAS,IAA3C,eAAOO,EAAP,KAAkBC,EAAlB,KACA,GAAkCR,EAAAA,EAAAA,UAAS,IAA3C,eAAOS,EAAP,KAAkBC,EAAlB,KACA,GAAgCV,EAAAA,EAAAA,UAAS,IAAzC,eAAOW,EAAP,KAAiBC,EAAjB,KACA,GAAkCZ,EAAAA,EAAAA,UAAS,IAA3C,eAAOa,EAAP,KAAkBC,EAAlB,KAEA,GAAkCd,EAAAA,EAAAA,UAAS,CACzCe,MAAM,EACNC,QAAS,KAFX,eAAOC,EAAP,KAAkBC,EAAlB,KAKMC,EAAI,mCAAG,WAAOC,GAAP,8EACXA,EAAEC,iBADS,mBAGQC,EAAAA,EAAAA,IAAarB,EAAUE,EAAOE,EAAUI,EAAWE,EAAUE,GAHrE,YAGLU,EAHK,yCAIaC,EAAAA,EAAAA,IAAMvB,EAAUI,GAJ7B,OAIAkB,EAJA,cAKTE,aAAaC,QAAQ,OAAQC,KAAKC,UAAUL,IAC5CM,EAAAA,EAAAA,eAAyBN,GANhB,kDAQTL,EAAa,CAACH,MAAM,EAAMC,QAAS,KAAEc,SAASC,KAAKC,SACnDC,YAAW,kBAAMf,EAAa,CAACH,MAAM,EAAOC,QAAS,KAAEc,SAASC,KAAKC,WAAU,KATtE,0DAAH,sDAaV,OACE,gBAAKE,UAAU,iBAAf,UACE,iBAAKA,UAAU,OAAf,WACE,eAAIA,UAAU,cAAd,gCAGA,eAAGA,UAAU,iBAAb,mHAEE,SAAC,KAAD,CAAMC,GAAIC,EAAAA,GAAaF,UAAU,aAAjC,wBAEF,kBAAMA,UAAU,aAAhB,WACE,SAAC,IAAD,CAAYG,UAAU,OACVC,YAAY,wBACZC,UAAU,aACVC,SAAU,SAACpB,GAAD,OAAOV,EAAaU,EAAEqB,OAAOC,QACvCC,UAAQ,KACpB,SAAC,IAAD,CAAYN,UAAU,OACVC,YAAY,uBACZC,UAAU,YACVC,SAAU,SAACpB,GAAD,OAAOR,EAAYQ,EAAEqB,OAAOC,QACtCC,UAAQ,KACpB,SAAC,IAAD,CAAYN,UAAU,OACVC,YAAY,sBACZC,UAAU,WACVC,SAAU,SAACpB,GAAD,OAAOlB,EAAYkB,EAAEqB,OAAOC,QACtCC,UAAQ,KACpB,SAAC,IAAD,CAAYN,UAAU,QACVC,YAAY,mBACZC,UAAU,QACVC,SAAU,SAACpB,GAAD,OAAOhB,EAASgB,EAAEqB,OAAOC,QACnCC,UAAQ,KACpB,SAAC,IAAD,CAAYN,UAAU,OACVE,UAAU,YACVC,SAAU,SAACpB,GAAD,OAAON,EAAaM,EAAEqB,OAAOC,QACvCC,UAAQ,KACpB,SAAC,IAAD,CAAYN,UAAU,WACVC,YAAY,sBACZC,UAAU,WACVK,MAAM,uBACNJ,SAAU,SAACpB,GAAD,OAAOd,EAAYc,EAAEqB,OAAOC,QACtCC,UAAQ,KACpB,SAAC,IAAD,CAAYN,UAAU,WACVC,YAAY,sBACZC,UAAU,mBACVK,MAAM,uBACNJ,SAAU,SAACpB,GAAD,OAAOZ,EAAaY,EAAEqB,OAAOC,QACvCC,UAAQ,KAEpB,mBAASE,SAAwB,KAAdpC,GAAiC,KAAbE,GAAgC,KAAbV,GAAmBI,IAAaE,GAA0B,KAAbF,KACjGyC,EAAAA,EAAAA,IAAa3C,MAAW4C,EAAAA,EAAAA,IAAgB1C,GAA0B6B,UAAU,gBAAgBc,QAAS7B,EAD3G,oBAECF,EAAUF,OACT,SAAC,IAAD,CAAOC,QAASC,EAAUD","sources":["pages/Auth/Registration.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport InputField from '../../components/InputField/InputField';\r\nimport { Link } from 'react-router-dom';\r\nimport { LOGIN_ROUTE } from './../../utils/consts';\r\nimport './Auth.scss';\r\nimport { registration, login } from './../../API/userAPI';\r\nimport userStore from '../../store/UserStore';\r\nimport Alert from './../../components/Alert/Alert';\r\nimport { isEmailValid } from '../../utils/validate';\r\nimport { isPasswordValid } from './../../utils/validate';\r\n\r\nconst Registration = () => {\r\n  const [username, setUsername] = useState(''); \r\n  const [email, setEmail] = useState(''); \r\n  const [password, setPassword] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [birthdate, setBirthdate] = useState('');\r\n\r\n  const [showAlert, setShowAlert] = useState({\r\n    show: false,\r\n    message: ''\r\n  });\r\n  \r\n  const auth = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      let user = await registration(username, email, password, firstName, lastName, birthdate);\r\n      if(user) user = await login(username, password);\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      userStore.setCurrentUser(user);\r\n    } catch (e) {\r\n      setShowAlert({show: true, message: e.response.data.detail});\r\n      setTimeout(() => setShowAlert({show: false, message: e.response.data.detail}), 2000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container-auth'>\r\n      <div className='auth'>\r\n        <h1 className='auth__title'>\r\n          Create an account\r\n        </h1>\r\n        <p className='auth__subtitle'>\r\n          Gain access to additional features such as Watchlist and Portfolio tracking. Already have an account?\r\n          <Link to={LOGIN_ROUTE} className='auth__link'>Log In</Link>\r\n        </p>\r\n        <form className='auth__form'>\r\n          <InputField inputType='text'\r\n                      placeholder='Enter your first name'\r\n                      titleName='First name'\r\n                      onChange={(e) => setFirstName(e.target.value)}\r\n                      required/>\r\n          <InputField inputType='text'\r\n                      placeholder='Enter your last name'\r\n                      titleName='Last name'\r\n                      onChange={(e) => setLastName(e.target.value)}\r\n                      required/>\r\n          <InputField inputType='text'\r\n                      placeholder='Enter your username'\r\n                      titleName='Username'\r\n                      onChange={(e) => setUsername(e.target.value)}\r\n                      required/>\r\n          <InputField inputType='email'\r\n                      placeholder='Enter your email'\r\n                      titleName='Email'\r\n                      onChange={(e) => setEmail(e.target.value)}\r\n                      required/>\r\n          <InputField inputType='date'\r\n                      titleName='Birthdate'\r\n                      onChange={(e) => setBirthdate(e.target.value)}\r\n                      required/>\r\n          <InputField inputType='password'\r\n                      placeholder='Enter your password'\r\n                      titleName='Password'\r\n                      input='auth__input-password'\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      required/>\r\n          <InputField inputType='password'\r\n                      placeholder='Enter your password'\r\n                      titleName='Confirm password'\r\n                      input='auth__input-password'\r\n                      onChange={(e) => setPassword2(e.target.value)}\r\n                      required/>\r\n          {/* <div className='auth__check auth__check-left'>Password should contain both letter and number, with minimum length of 8 characters</div> */}\r\n          <button  disabled={firstName === '' || lastName === '' || username === '' || password !== password2 || password === '' \r\n            || !isEmailValid(email) || !isPasswordValid(password) ? true : false} className='btn auth__btn' onClick={auth}>Create</button>\r\n          {showAlert.show &&\r\n            <Alert message={showAlert.message}/>\r\n          }\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Registration;  "],"names":["useState","username","setUsername","email","setEmail","password","setPassword","password2","setPassword2","firstName","setFirstName","lastName","setLastName","birthdate","setBirthdate","show","message","showAlert","setShowAlert","auth","e","preventDefault","registration","user","login","localStorage","setItem","JSON","stringify","userStore","response","data","detail","setTimeout","className","to","LOGIN_ROUTE","inputType","placeholder","titleName","onChange","target","value","required","input","disabled","isEmailValid","isPasswordValid","onClick"],"sourceRoot":""}